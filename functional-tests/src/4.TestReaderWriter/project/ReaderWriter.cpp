#include<stdio.h>
#include<omp.h>
#include<unisted.h>
int main() {
    int reader, writer;
    printf("\nEnter number of Readers:");
    scanf("%d", &reader);
    omp_set_num_threads(reader); //Sets 'reader' number of threads
    printf("\nEnter number of Writers:");
    scanf("%d", &writer);

    printf("\nReading Starts:\n");

    #pragma omp parallel
    {
        printf("\nThread %d is entering the shared memory", omp_get_thread_num());
        sleep(2);//we will pause for 2 seconds for our understanding the working
        printf("\nThread %d is reading the shared memory", omp_get_thread_num());
        sleep(2);
        printf("\nThread %d is leaving the shared memory", omp_get_thread_num());
        sleep(2);
    }

    omp_set_num_threads(writer);
    printf("\n\nWriting Starts:");

    return 0;
}